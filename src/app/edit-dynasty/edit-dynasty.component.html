<div class="container">
  <div class="row">
    <div class="col-xs-12">
      <h2>{{entity}}</h2>
      <table *ngIf="dynastysLoaded else loading">
      	<tr>
      		<th *ngFor = "let column of headers">     		
      {{column}}
      </th>
      	</tr>
      	<tr *ngFor="let dynasty of dynastys">
      		<td >
      			{{dynasty.name}}     			
      		</td>
          <td >
            {{dynasty.name_fr_fr}}          
          </td>
          <td >
            {{dynasty.name_cn_cn}}          
          </td>
      		<td>    
      			{{dynasty.birth}} 			
      		</td>
      		<td>     			
      			{{dynasty.death}}
      		</td>
      		<td>     			
      			{{dynasty.description_en_gb}}
      		</td>
      		<td>     			
      			{{dynasty.description_fr_fr}}
      		</td>
          <td>          
            {{dynasty.description_cn_cn}}
          </td>
      		<td>
      			<button (click) = "edit(dynasty.id, dynasty.name,name_fr_fr, dynasty.name_cn_cn, dynasty.birth,dynasty.death,dynasty.description_en_gb,dynasty.description_fr_fr,dynasty.description_cn_cn)">edit</button>
      		</td>
      	</tr>
      </table>      
    </div>
  </div>
</div>
<button (click) = "add()">add new dynasty</button>
<div class="col-sm-8 col-sm-offset-2" *ngIf="edition">
  <form [formGroup]="dynastyForm" (ngSubmit)="onSubmitForm()">
    <div class="form-group" hidden>
      <label for="id">id</label>
      <input type="text" id="id" class="form-control" formControlName="id" >
    </div>
    <div class="form-group">
      <label for="name">Name :</label>
      <input type="text" id="name" class="form-control" formControlName="name">
    </div>
    <div class="form-group">
      <label for="name_fr_fr">In French:</label>
      <input type="text" id="name_fr_fr" class="form-control" formControlName="name_fr_fr">
    </div>
    <div class="form-group">
      <label for="name_cn_cn">In Chinese:</label>
      <input type="text" id="name_cn_cn" class="form-control" formControlName="name_cn_cn">
    </div>
    <div class="form-group">
      <label for="birth">Date of foundation :</label>
      <input type="text" id="birth" class="form-control" formControlName="birth">
    </div>
    <div class="form-group">
      <label for="death">Date of fall :</label>
      <input type="text" id="death" class="form-control" formControlName="death">
    </div>
    <div class="form-group">
      <label for="description_en_gb">Introduction in english</label>
      <textarea type="text" id="description_en_gb" class="form-control" formControlName="description_en_gb"> </textarea>
    </div>
    <div class="form-group">
      <label for="description_fr_fr">Introduction in french</label>
      <textarea type="text" id="description_fr_fr" class="form-control" formControlName="description_fr_fr"> </textarea>
    </div>
    <div class="form-group">
      <label for="description_cn_cn">Introduction in chinese</label>
      <textarea type="text" id="description_cn_cn" class="form-control" formControlName="description_cn_cn"> </textarea>
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
</div>

<ng-template #loading>
  Loading Dynastys...
  <div class="spinner-border text-success" role="status">
  <span class="sr-only">Loading...</span>
</div>
</ng-template>